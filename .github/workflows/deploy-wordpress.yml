# name: Deploy WordPress with Docker

# on:
#   push:
#     branches:
#       - main

# jobs:
#   deploy:
#     runs-on: ubuntu-latest

#     steps:
#     - name: Checkout repository
#       uses: actions/checkout@v3

#     - name: Set up Docker Compose
#       uses: docker/setup-buildx-action@v2

#     - name: Set up Docker Buildx
#       uses: docker/setup-buildx-action@v2

#     - name: Build and Deploy WordPress
#       run: |
#         echo "Building and deploying WordPress with Docker Compose"
        
#         # Create .env file using GitHub secrets
#         echo "WORDPRESS_DB_HOST=mysql:3306" >> .env
#         echo "WORDPRESS_DB_NAME=wordpress" >> .env
#         echo "WORDPRESS_DB_USER=bn_wordpress" >> .env
#         echo "WORDPRESS_DB_PASSWORD=${{ secrets.WORDPRESS_DB_PASSWORD }}" >> .env
#         echo "MYSQL_ROOT_PASSWORD=${{ secrets.MYSQL_ROOT_PASSWORD }}" >> .env
#         echo "MYSQL_DATABASE=wordpress" >> .env
#         echo "MYSQL_USER=bn_wordpress" >> .env
#         echo "MYSQL_PASSWORD=${{ secrets.MYSQL_PASSWORD }}" >> .env

#         # Deploy using Docker Compose
#         docker-compose up -d

#     - name: Clean up
#       run: |
#         docker-compose down
